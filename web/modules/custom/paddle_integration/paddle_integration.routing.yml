# Public checkout page
paddle_integration.checkout:
  path: '/sign-up'
  defaults:
    _form: '\Drupal\paddle_integration\Form\PaddleCheckoutForm'
    _title: 'Sign up'
  requirements:
    _user_is_logged_in: 'FALSE'

# Checkout confirmation page
paddle_integration.checkout_confirm:
  path: '/sign-up/confirm'
  defaults:
    _controller: '\Drupal\paddle_integration\Controller\CheckoutController::confirm'
    _title: 'Confirm purchase'
  requirements:
    _user_is_logged_in: 'FALSE'

# Payment success page
paddle_integration.checkout_success:
  path: '/sign-up/success'
  defaults:
    _controller: '\Drupal\paddle_integration\Controller\CheckoutController::success'
    _title: 'Payment successful'
  requirements:
    _access: 'TRUE'

# Payment cancelled page
paddle_integration.checkout_cancel:
  path: '/sign-up/cancel'
  defaults:
    _controller: '\Drupal\paddle_integration\Controller\CheckoutController::cancel'
    _title: 'Payment cancelled'
  requirements:
    _access: 'TRUE'

# Webhook receiver
paddle_integration.webhook:
  path: '/paddle/webhook'
  defaults:
    _controller: '\Drupal\paddle_integration\Controller\WebhookController::receive'
  requirements:
    _access: 'TRUE'
  methods: [POST]

# Registration form
paddle_integration.register:
  path: '/sign-up/complete/{token}'
  defaults:
    _form: '\Drupal\paddle_integration\Form\PaddleRegistrationForm'
    _title: 'Complete Your Registration'
  requirements:
    _access: 'TRUE'

# Admin settings
paddle_integration.settings:
  path: '/admin/config/paddle-integration/settings'
  defaults:
    _form: '\Drupal\paddle_integration\Form\PaddleSettingsForm'
    _title: 'Paddle Integration Settings'
  requirements:
    _permission: 'administer paddle integration'
