{#
/**
 * @file
 * Template for AI Breakthrough Strategies Report.
 *
 * Available variables:
 * - report: Complete breakthrough strategies report data
 */
#}

<div
	class="ai-breakthrough-strategies-report">

	{# Pending state - shown while report is being generated #}
	{% if report.status == 'pending' %}
		{% include '@ai_report_storage/report-pending.html.twig' with {
			'report': report,
			'report_title': 'Generating Your Breakthrough Strategies Report'|t
		} %}
	{% else %}

		{# Fear to Empowerment Section #}
		{% if report.fear_to_empowerment %}
			<section class="report-section fear-to-empowerment">
				<h2>{{ 'From Fear to Empowerment'|t }}</h2>

				{% if report.fear_to_empowerment.empowerment_narrative %}
					<p class="report-intro">{{ report.fear_to_empowerment.empowerment_narrative }}</p>
				{% endif %}

				{% if report.fear_to_empowerment.fear_audit %}
					<div class="fear-audit">
						<div class="report-lists">
							{% for fear in report.fear_to_empowerment.fear_audit %}
								<div class="report-list">
									<h3>{{ 'Fear'|t }}:
										{{ fear.fear }}</h3>
									<ul>
										<li>
											<h4>{{ 'Assessment'|t }}</h4>
											<p>{{ fear.validity_check }}</p>
										</li>
										<li>
											<h4>{{ 'Reframe'|t }}</h4>
											<p>{{ fear.reframe }}</p>
										</li>
										<li>
											<h4>{{ 'Action'|t }}</h4>
											<p>{{ fear.action }}</p>
										</li>
									</ul>
								</div>
							{% endfor %}
						</div>
					</div>
				{% endif %}

			</section>
		{% endif %}

		{% if report.overcoming_barriers.mindset_shifts %}
			<section class="report-section mindset-shifts">
				<h2>{{ 'Shifting Your Mindset'|t }}</h2>
				<div class="highlight-list">
					{% for shift in report.overcoming_barriers.mindset_shifts %}
						<div class="highlight-card">
							<div class="shift">
								<div class="shift-from">
									<h3>{{ shift.from }}</h3>
								</div>
								<div class="shift-arrow">â†’</div>
								<div class="shift-to">
									<h3>{{ shift.to }}</h3>
								</div>
							</div>
							<h4>{{ 'Practice'|t }}</h4>
							<p>{{ shift.practice }}</p>
							{% if shift.why_this_matters %}
								<h4>{{ 'Why This Matters'|t }}</h4>
								<p>{{ shift.why_this_matters }}</p>
							{% endif %}
						</div>
					{% endfor %}
				</div>
			</section>
		{% endif %}

		{# Confidence Building Section #}
		{% if report.confidence_building %}
			<section class="report-section confidence-building">
				<h2>{{ 'Building Your Confidence'|t }}</h2>
				{% if report.breakthrough_insights.transformation_narrative %}
					<p class="report-intro">{{ report.breakthrough_insights.transformation_narrative }}</p>
				{% endif %}


				{% if report.confidence_building.building_blocks %}
					<div class="building-blocks">
						<div class="highlight-grid">
							{% for block in report.confidence_building.building_blocks %}
								<div class="highlight-card">
									<h3 class="card-title">{{ block.step }}</h3>
									<h4>{{ 'Exercise'|t }}</h4>
									<p>{{ block.exercise }}</p>
									<h4>{{ 'Frequency'|t }}</h4>
									<p>{{ block.frequency }}</p>
									<h4>{{ 'Expected Outcome'|t }}</h4>
									<p>{{ block.expected_outcome }}</p>
								</div>
							{% endfor %}
						</div>
					</div>
				{% endif %}


				{# {% if report.confidence_building.confidence_blockers %}
									<div class="confidence-blockers">
										<h3>{{ 'What\'s Holding You Back'|t }}</h3>
										<div class="highlight-grid">
											{% for blocker in report.confidence_building.confidence_blockers %}
												<div class="highlight-card">
													<h4 class="card-title">{{ blocker.blocker }}</h4>
													<h5>{{ 'Impact'|t }}</h5>
													<p>{{ blocker.impact }}</p>
													<h5>{{ 'Antidote'|t }}</h5>
													<p>{{ blocker.antidote }}</p>
												</div>
											{% endfor %}
										</div>
									</div>
								{% endif %} #}


			</section>
		{% endif %}

	{# Closing Message Section #}
	{% if report.closing_message %}
		<section class="report-section report-favorable">
			<h2>{{ report.closing_message.title|t }}</h2>
			<div class="highlight-card">
				<h3>{{ report.closing_message.message }}</h3>
			</div>
		</section>
	{% endif %}

	{# AI Generation Footer #}
	{% if report.model_used and report.generated_at %}
		<div class="report-footer ai-attribution">
			<p class="ai-generation-info">
				{{ 'This report was generated by AI'|t }}<br>
				{{ 'on'|t }} {{ report.generated_at|date('j F Y \\a\\t g:ia') }}<br>
				{{ 'using model'|t }} {{ report.model_used }}.
			</p>
		</div>
	{% endif %}

	{# Actions #}
	<div class="report-footer">
		<div class="report-actions">
			<a href="/dashboard" class="button button--return">{{ 'Home'|t }}</a>
		</div>
	</div>
	{% endif %}
</div>
