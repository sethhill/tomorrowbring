{#
/**
 * @file
 * Template for AI Task Automation Recommendations Report.
 */
#}

<div
	class="ai-task-recommender-report">

	{# Pending state - shown while report is being generated #}
	{% if report.status == 'pending' %}
		{% include '@ai_report_storage/report-pending.html.twig' with {
			'report': report,
			'report_title': 'Generating Your Task Recommendations'|t
		} %}
	{% else %}

		{# Report header with image #}
		{% if report_image_url %}
			<div class="report-header">
				<img src="{{ report_image_url }}" alt="{{ 'Task Recommendations'|t }}" class="report-header__image">
			</div>
		{% endif %}

		{# Pending state - shown while report is being generated #}
		{% if report.status == 'pending' %}
			{% include '/report-pending.html.twig' with {
			'report': report,
			'report_title': 'Generating Your Report'|t
		} %}
		{% else %}

			{% if report.overview %}
				<section class="report-section overview">
					<h2>{{ 'Your Automation Opportunity'|t }}</h2>
					<p class="report-intro">{{ report.overview.automation_potential }}</p>

					{% if report.overview.automatable_tasks %}
						<div class="automatable-tasks">
							<h3>{{ 'Things AI Can Do for You'|t }}</h3>
							<ul>
								{% for task in report.overview.automatable_tasks %}
									<li>{{ task }}</li>
								{% endfor %}
							</ul>

						{% endif %}
					</div>
				{% endif %}

			</section>
		{% endif %}

		{% if report.tool_recommendations %}
			<section class="report-section tool-recommendations">
				<h2>{{ 'Recommended AI Tools'|t }}</h2>
				<div class="report-lists highlight-grid">
					{% for tool in report.tool_recommendations %}
						<div class="highlight-card difficulty-{{ tool.difficulty }}">
							<div class="tool-header">
								<h3>{{ tool.tool_name }}</h3>
								<div class="title-meta">{{ tool.tool_category }}
									|
									{{ tool.cost|capitalize }}
									|
									{{ tool.difficulty|capitalize }}</div>
							</div>
							<div class="tool-task">
								<h4>{{ 'Purpose'|t }}</h4>
								<p>
									{{ tool.task }}</p>
							</div>
							<p class="why">{{ tool.why_recommended }}</p>
							<p class="getting-started">
								<strong>{{ 'Getting Started:'|t }}</strong>
								{{ tool.getting_started }}</p>
							<p class="time-savings">
								<strong>{{ 'Saves:'|t }}</strong>
								{{ tool.time_savings }}</p>
						</div>
					{% endfor %}
				</div>
			</section>
		{% endif %}

		{% if report.workflow_integration and report.workflow_integration.automation_workflows %}
			<section class="report-section workflow-integration">
				<h2>{{ 'Chaining Tools Together'|t }}</h2>
				<div class="highlight-grid">
					{% for workflow in report.workflow_integration.automation_workflows %}
						<div class="highlight-card">
							<h3>{{ workflow.workflow_name }}</h3>
							<h4>{{ 'Tools'|t }}</h4>
							<p>{{ workflow.tools_combined|join('<br />')|raw }}</p>
							<h4>{{ 'Process'|t }}</h4>
							<ol>
								{% for step in workflow.process_steps %}
									<li>{{ step }}</li>
								{% endfor %}
							</ol>
							<h4>{{ 'Impact'|t }}</h4>
							<p>{{ workflow.expected_impact }}</p>
						</div>
					{% endfor %}
				</div>
			</section>
		{% endif %}

		{% if report.overview.quick_wins %}
			<div class="report-section quick-wins">
				<h2>{{ 'Quick Wins'|t }}</h2>
				<div class="confidence-cards">
					{% for win in report.overview.quick_wins %}
						<div class="confidence-card">
							<h3>{{ win.insight }}</h3>
							{% if win.evidence %}
								<p>{{ win.evidence }}</p>
							{% endif %}
						</div>
					{% endfor %}
				</div>
			</div>
		{% endif %}
	{% endif %}

	<div class="report-footer">
		<div class="report-actions">
			<a href="/dashboard" class="button button--return">{{ 'Home'|t }}</a>
			<a href="/analysis/career-transitions" class="button button--next">{{ 'Career Opportunities'|t }}</a>
		</div>
	</div>


</div>
